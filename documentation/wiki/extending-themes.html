
<h1 class="sectionedit1" id="extending_feathers_20_themes">Extending Feathers 2.0 themes</h1>
<div class="level1">

<p>
Using one of the example <a href="/feathers/themes" class="wikilink1" title="feathers:themes">themes</a> included with Feathers, we can quickly style every Feathers component in our apps with a set of pre-made skins. This is a great way to get started with a new game, or an app with heavy branding, when we plan to integrate the final, custom design later. The example themes can even be useful for skinning productivity apps and things that don&#039;t require custom-designed branding and skins.
</p>

<p>
Whatever our needs, eventually, we may want to make some styling tweaks or to provide some alternative skins for a subset of components in our app. The examples themes are designed with extensibility in mind. Let&#039;s learn to modify the themes to use our custom skins.
</p>

<p>
<p><div class="notewarning">
This tutorial covers the new theme architecture in Feathers 2.0. If you are using Feathers 1.3.1 or below, you should read <a href="http://wiki.starling-framework.org/feathers/extending-themes-v1" class="urlextern" title="http://wiki.starling-framework.org/feathers/extending-themes-v1"  rel="nofollow">Extending legacy Feathers 1.x themes</a> instead.

</div></p>
</p>

<p>
<p><div class="noteclassic">
If you haven&#039;t read <a href="/feathers/skinning" class="wikilink1" title="feathers:skinning">Skinning Feathers components</a> yet, start there first to learn about how do basic skinning without themes. You&#039;ll get an introduction to style providers, which are the foundation of a theme&#039;s architecture.

</div></p>
</p>

</div>
<!-- EDIT1 SECTION "Extending Feathers 2.0 themes" [1-1259] -->
<h2 class="sectionedit2" id="adding_an_alternate_style_function">Adding an alternate style function</h2>
<div class="level2">

<p>
Let&#039;s say that we&#039;re using <code>MetalWorksMobileTheme</code> in our app. Most of the skins meet our design requirements, but we need to create a special button in our app with a slightly different style.
</p>

<p>
<p><div class="noteclassic">
In this tutorial, we extend <code>MetalWorksMobileTheme</code>, one of the example themes included with Feathers. You will find a compiled SWC for this theme, and the full source code, inside the Feathers ZIP file in the <em>themes</em> directory.

</div></p>
</p>

<p>
To get started, we&#039;ll subclass the <code>MetalWorksMobileTheme</code> class:
</p>
<pre class="code as3"><span class="kw4">package</span> com<span class="sy0">.</span>example
<span class="br0">&#123;</span>
	<span class="kw1">import</span> feathers<span class="sy0">.</span>themes<span class="sy0">.</span>MetalWorksMobileTheme<span class="sy0">;</span>
&nbsp;
	<span class="kw1">public</span> <span class="kw4">class</span> CustomTheme <span class="kw1">extends</span> MetalWorksMobileTheme
	<span class="br0">&#123;</span>
		<span class="kw1">public</span> <span class="kw3">function</span> CustomTheme<span class="br0">&#40;</span><span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="kw1">super</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

<p>
Where we instantiate <code>MetalWorksMobileTheme</code> when our app first starts up, we must change it to instantiate our new subclass instead:
</p>
<pre class="code as3"><span class="kw1">new</span> CustomTheme<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Next, let&#039;s add a function that will provide different skins for our special button. Inside the <code>CustomTheme</code> class, add the following <code>setCustomButtonStyles()</code> function:
</p>
<pre class="code as3"><span class="kw1">protected</span> <span class="kw3">function</span> setCustomButtonStyles<span class="br0">&#40;</span> button<span class="sy0">:</span>Button <span class="br0">&#41;</span><span class="sy0">:</span><span class="kw1">void</span>
<span class="br0">&#123;</span>
	button<span class="sy0">.</span>defaultSkin = <span class="kw1">new</span> Quad<span class="br0">&#40;</span> <span class="nu0">200</span><span class="sy0">,</span> <span class="nu0">60</span><span class="sy0">,</span> 0xff0000 <span class="br0">&#41;</span><span class="sy0">;</span>
	button<span class="sy0">.</span>downSkin = <span class="kw1">new</span> Quad<span class="br0">&#40;</span> <span class="nu0">200</span><span class="sy0">,</span> <span class="nu0">60</span><span class="sy0">,</span> 0x000000 <span class="br0">&#41;</span><span class="sy0">;</span>
	button<span class="sy0">.</span>labelFactory = <span class="kw3">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">:</span>ITextRenderer
	<span class="br0">&#123;</span>
		<span class="kw1">return</span> <span class="kw1">new</span> TextFieldTextRenderer<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span><span class="sy0">;</span>
	button<span class="sy0">.</span>defaultLabelProperties<span class="sy0">.</span>textFormat = <span class="kw1">new</span> <a href="http://www.google.com/search?q=textformat%20inurl:http://livedocs.adobe.com/flex/201/langref/%20inurl:textformat.html"><span class="kw5">TextFormat</span></a><span class="br0">&#40;</span> <span class="st0">&quot;_sans&quot;</span><span class="sy0">,</span> <span class="nu0">36</span><span class="sy0">,</span> 0xffffff <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Now, we need to tell the theme how to use this function. The superclass defines a method named <code>initializeStyleProviders()</code> where all of the global style providers are registered with Feathers.
</p>

<p>
<p><div class="noteclassic">
Every example theme included with Feathers uses this same architecture. Themes provided by third-parties may work a bit differently, so you should refer to the third-party documentation for complete details.

</div></p>
</p>

<p>
We want to override the <code>initializeStyleProviders()</code> function so that we can tell the <code>Button</code> global style provider about our <code>setCustomButtonStyles()</code> function:
</p>
<pre class="code as3">override <span class="kw1">protected</span> <span class="kw3">function</span> initializeStyleProviders<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">:</span><span class="kw1">void</span>
<span class="br0">&#123;</span>
	<span class="kw1">super</span><span class="sy0">.</span>initializeStyleProviders<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// don't forget this!</span>
&nbsp;
	<span class="kw1">this</span><span class="sy0">.</span>getStyleProviderForClass<span class="br0">&#40;</span>Button<span class="br0">&#41;</span>
		<span class="sy0">.</span>setFunctionForStyleName<span class="br0">&#40;</span> <span class="st0">&quot;custom-button&quot;</span><span class="sy0">,</span> <span class="kw1">this</span><span class="sy0">.</span>setCustomButtonStyles <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
We call the <code><a href="http://feathersui.com/documentation/feathers/themes/StyleNameFunctionTheme.html#getStyleProviderForClass()" class="urlextern" title="http://feathersui.com/documentation/feathers/themes/StyleNameFunctionTheme.html#getStyleProviderForClass()"  rel="nofollow">getStyleProviderForClass()</a></code> function to access the global style provider for the <code>Button</code> class. If a global style provider hasn&#039;t been registered yet, one will be created automatically.
</p>

<p>
Because <code>MetalWorksMobileTheme</code> is a subclass of <code><a href="http://feathersui.com/documentation/feathers/themes/StyleNameFunctionTheme.html" class="urlextern" title="http://feathersui.com/documentation/feathers/themes/StyleNameFunctionTheme.html"  rel="nofollow">StyleNameFunctionTheme</a></code>, the style provider returned by <code>getStyleProviderForClass()</code> is a <code><a href="http://feathersui.com/documentation/feathers/skins/StyleNameFunctionStyleProvider.html" class="urlextern" title="http://feathersui.com/documentation/feathers/skins/StyleNameFunctionStyleProvider.html"  rel="nofollow">StyleNameFunctionStyleProvider</a></code>. We learned about this type of style provider in <a href="/feathers/skinning" class="wikilink1" title="feathers:skinning">Skinning Feathers components</a>. It allows us to specify combinations of style names and functions to provide multiple skins for the same type of component.
</p>

<p>
We call <code>setFunctionForStyleName()</code> and pass in a “custom-button” style name (you can use any string that you want, as long as it is unique to your app) and a reference to our <code>setCustomButtonStyles()</code> function that we defined earlier.
</p>

<p>
That&#039;s all we need to add to the theme. Next, let&#039;s make a little tweak to the code that creates our special button:
</p>
<pre class="code as3"><span class="kw2">var</span> specialButton<span class="sy0">:</span>Button = <span class="kw1">new</span> Button<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
specialButton<span class="sy0">.</span>label = <span class="st0">&quot;Special!&quot;</span><span class="sy0">;</span>
specialButton<span class="sy0">.</span>styleNameList<span class="sy0">.</span><span class="kw7">add</span><span class="br0">&#40;</span> <span class="st0">&quot;custom-button&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">this</span><span class="sy0">.</span><span class="kw7">addChild</span><span class="br0">&#40;</span> specialButton <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
We add the “custom-button” string to the button&#039;s <code>styleNameList</code>, and now the button will be skinned using our <code>setCustomButtonStyles()</code> function instead of the default function defined by <code>MetalWorksMobileTheme</code>.
</p>

</div>
<!-- EDIT2 SECTION "Adding an alternate style function" [1260-5246] -->
<h2 class="sectionedit3" id="adding_custom_components_to_a_theme">Adding custom components to a theme</h2>
<div class="level2">

<p>
By default, a custom component will inherit the default style provider from its super class. If you create a <code>CustomButton</code> class that extends <code>Button</code>, the subclass will automatically default to using <code>Button.globalStyleProvider</code>. If you want your component to simply use the same skins as its superclass, you don&#039;t need to do anything. It will happen automatically.
</p>

<p>
However, if you want the subclass to use a different default style provider than its superclass, then you need to add a couple of properties to your component&#039;s class. First, it needs a static global style provider:
</p>
<pre class="code as3"><span class="kw1">public</span> <span class="kw4">class</span> CustomComponent <span class="kw1">extends</span> FeathersControl
<span class="br0">&#123;</span>
	<span class="kw1">public</span> static <span class="kw2">var</span> globalStyleProvider<span class="sy0">:</span>IStyleProvider<span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Second, it needs to override the non-static <code><a href="http://feathersui.com/documentation/feathers/core/FeathersControl.html#defaultStyleProvider" class="urlextern" title="http://feathersui.com/documentation/feathers/core/FeathersControl.html#defaultStyleProvider"  rel="nofollow">defaultStyleProvider</a></code> getter:
</p>
<pre class="code as3">override <span class="kw1">protected</span> <span class="kw3">function</span> <span class="kw1">get</span> defaultStyleProvider<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">:</span>IStyleProvider
<span class="br0">&#123;</span>
	<span class="kw1">return</span> CustomComponent<span class="sy0">.</span>globalStyleProvider<span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
For the vast majority of components, the <code>defaultStyleProvider</code> getter should simply return the static global style provider.
</p>

<p>
However, the default style provider can certainly be customized. For instance, the <code><a href="http://feathersui.com/documentation/feathers/controls/ToggleButton.html" class="urlextern" title="http://feathersui.com/documentation/feathers/controls/ToggleButton.html"  rel="nofollow">ToggleButton</a></code> component will return <code>Button.globalStyleProvider</code> if <code>ToggleButton.globalStyleProvider</code> is <code>null</code>:
</p>
<pre class="code as3">override <span class="kw1">protected</span> <span class="kw3">function</span> <span class="kw1">get</span> defaultStyleProvider<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">:</span>IStyleProvider
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span> ToggleButton<span class="sy0">.</span>globalStyleProvider <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">return</span> ToggleButton<span class="sy0">.</span>globalStyleProvider<span class="sy0">;</span>
	<span class="br0">&#125;</span>
	<span class="kw1">return</span> Button<span class="sy0">.</span>globalStyleProvider<span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Similarly, your custom component could also provide a fallback default style provider from the superclass.
</p>

<p>
To add the custom component to the theme, override the <code>initializeStyleProviders()</code> function, just like in the previous example:
</p>
<pre class="code as3">override <span class="kw1">protected</span> <span class="kw3">function</span> initializeStyleProviders<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">:</span><span class="kw1">void</span>
<span class="br0">&#123;</span>
	<span class="kw1">super</span><span class="sy0">.</span>initializeStyleProviders<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// don't forget this!</span>
&nbsp;
	<span class="kw1">this</span><span class="sy0">.</span>getStyleProviderForClass<span class="br0">&#40;</span>CustomComponent<span class="br0">&#41;</span><span class="sy0">.</span>defaultStyleFunction = 
		<span class="kw1">this</span><span class="sy0">.</span>setCustomComponentStyles<span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
You can set the <code>defaultStyleFunction</code> on the <code>StyleNameFunctionStyleProvider</code>. If you have alternate styles for the custom component, you can also call <code>setFunctionForStyleName()</code>, just like you can with any other component.
</p>

</div>
<!-- EDIT3 SECTION "Adding custom components to a theme" [5247-7684] -->
<h2 class="sectionedit4" id="related_links">Related Links</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="/feathers/skinning" class="wikilink1" title="feathers:skinning">Skinning Feathers components</a></div>
</li>
<li class="level1"><div class="li"> <a href="/feathers/themes" class="wikilink1" title="feathers:themes">Introduction to Feathers Themes</a></div>
</li>
</ul>

<p>
For more tutorials, return to the <a href="/feathers/start" class="wikilink1" title="feathers:start">Feathers Documentation</a>.
</p>

</div>
<!-- EDIT4 SECTION "Related Links" [7685-] -->